
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>C# code gems #2 - Abstractions via Strings - yield the dog</title>
  <meta name="author" content="yield the dog">

  
  <meta name="description" content="In .NET we have the concept of connection strings which are some weird non consistent bunch of key value pairs, with colons mixed in highly dependent &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yieldthedog.github.com/blog/2012/03/17/c-number-code-gems-number-2-abstractions-via-strings">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="yield the dog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29924121-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <a href="/"><h1>yield the dog</h1></a>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:yieldthedog.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/categories/interesting-thingys/">Interesting Thingys</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content" class="
      
        
          code-gems
        
      
      ">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">C# Code Gems #2 - Abstractions via Strings</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-17T10:06:00+01:00" pubdate data-updated="true">Mar 17<span>th</span>, 2012</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>In .NET we have the concept of connection strings which are some weird non consistent bunch of key value pairs, with colons mixed in highly dependent of the DB driver used. To get an overview how such connection strings may look like head over to <a href="http://connectionstrings.com">Connection Strings.com</a>.</p>

<p>For example a MS SQL Server 2008 connection string looks somehow like this</p>

<pre><code>Data Source=myServerAddress;Initial Catalog=myDataBase;User Id=myUsername;Password=myPassword;
</code></pre>

<p>A MySQL connection string may be similar to this</p>

<pre><code>Server=myServerAddress;Database=myDataBase;Uid=myUsername;Pwd=myPassword;
</code></pre>

<p>So constructing a connection string is somehow a pain (thank you so much dear &#8220;Connection Strings.com&#8221;) but there&#8217;s a class that eases connection string creation in code for MS SQL Server, it&#8217;s &#8220;SqlConnectionStringBuilder&#8221;.</p>

<p>Let&#8217;s look at a piece of code to construct a connection string similar to the MS SQL Server 2008 connection string given above.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnectionStringBuilder</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">DataSource</span> <span class="p">=</span> <span class="s">&quot;myServerAddress&quot;</span><span class="p">,</span>
</span><span class='line'>            <span class="n">InitialCatalog</span> <span class="p">=</span> <span class="s">&quot;myDataBase&quot;</span><span class="p">,</span>
</span><span class='line'>            <span class="n">UserID</span> <span class="p">=</span> <span class="s">&quot;myUsername&quot;</span><span class="p">,</span>
</span><span class='line'>            <span class="n">Password</span> <span class="p">=</span> <span class="s">&quot;myPassword&quot;</span>
</span><span class='line'>        <span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="n">var</span> <span class="n">conn</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="n">builder</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
</span></code></pre></td></tr></table></div></figure>


<p>So what builder does is to create a string that is then parsed by SqlConnection to connect to the DB. Does this abstract anything? Not really because you have to know what builder to use with what Connection class. With what interface do these classes communicate? The good old string :)</p>

<p>Do I have a better idea to model this? No not really&#8230;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">yield the dog</span></span>

      








  


<time datetime="2012-03-17T10:06:00+01:00" pubdate data-updated="true">Mar 17<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/code-gems/'>code-gems</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://yieldthedog.github.com/blog/2012/03/17/c-number-code-gems-number-2-abstractions-via-strings/" data-via="" data-counturl="http://yieldthedog.github.com/blog/2012/03/17/c-number-code-gems-number-2-abstractions-via-strings/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/03/16/c-number-code-gems-number-1-static-and-generics/" title="Previous Post: C# Code gems #1 - Static and Generics">&laquo; C# Code gems #1 - Static and Generics</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/03/22/interesting-thingys-9/" title="next Post: Interesting Thingys #9">Interesting Thingys #9 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/28/interesting-thingys-48/">Interesting Thingys 48</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/21/interesting-thingys-47/">Interesting Thingys 47</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/14/interesting-thingys-46/">Interesting Thingys 46</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/07/interesting-thingys-45/">Interesting Thingys 45</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/01/invoke-js-beautify-in-vim/">Invoke JS Beautify in Vim</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - yield the dog -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> |
  This blog is not affiliated with <a href="http://diamonddogs.cc">the diamond:dogs group</a>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'yieldthedog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://yieldthedog.github.com/blog/2012/03/17/c-number-code-gems-number-2-abstractions-via-strings/';
        var disqus_url = 'http://yieldthedog.github.com/blog/2012/03/17/c-number-code-gems-number-2-abstractions-via-strings/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
